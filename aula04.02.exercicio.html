<!DOCTYPE html>
<html lang="PT-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Lóg. de Prog. A:04.02.Ex</title>
</head>
<body>
    <h1>Lógica de programação com Javascript</h1>
    
    <div class="question">
        <h2><strong> --PROBLEMA-- </strong></h2>
        <ol>
            <li>Pedir para o usuário digitar um número</li>
            <li>Converter em um número inteiro</li>
            <li>Exibir botões com os operadores matemáticos</li>
            <li>Ao clicar no operador, pedir pra inserir outro número</li>
            <li>Concatenar o resultado a cada nova operação</li>
            <li>Código aprimorado, função única que aproveite o input dos operadores</li>
        </ol>
    </div>
    
    <div class="buttons">
        <button onclick="run()">Run</button>
        <button><a href="./index.html">Página inicial</a></button>
    </div>
    
    <div class="solution">
        <button onclick="calcular('+')">+</button>
        <button onclick="calcular('-')">-</button>
        <button onclick="calcular('*')">x</button>
        <button onclick="calcular('/')">/</button>
        <div id="output">Resultado:</div>
    </div>
        
    <script src="./script.js"></script>
    <script>
        function run() {
            if (!visible) {
                console.log("visivel");
                escreve();
            } else {
                console.log("oculto");
            }
            answer();
        }
                
        var output = document.querySelector('#output');
        var mensagem = '';
        var num1 = null;
        var num2 = null;

        function escreve() {
            num1 = parseFloat(prompt("Digite um número"));
            if (isNaN(num1)) {
                mensagem = clearInput;
                mensagem = '';
            } else {
                output.innerHTML = num1;
            }
        }

        function calcular(operador){
            var num2 = parseFloat(prompt("Digite outro número"));
            if (!isNaN(num2) && !isNaN(num1)) {                
                switch(operador){
                    case '+': 
                        mensagem += `<br> ${num1} ${operador} ${num2} = ${num1+=num2}`;
                        // num1 += num2;
                        break;
                    case '-': 
                        mensagem += `<br> ${num1} ${operador} ${num2} = ${num1-=num2}`;
                        // num1 -= num2;
                        break;
                    case '*': 
                        mensagem += `<br> ${num1} ${operador} ${num2} = ${num1*=num2}`;
                        // num1 *= num2;
                        break;
                    case '/': 
                        if (num2 === 0) {
                            mensagem = "Divisão por zero não é permitida!";
                            output.innerHTML = mensagem;
                        } else {
                            mensagem += `<br> ${num1} ${operador} ${num2} = ${num1/=num2}`;
                            // num1 /= num2;
                        }
                    break;
                }
            } else {
                mensagem = clearInput;
                output.innerHTML = mensagem;
                mensagem = "";
            }
            output.innerHTML = mensagem;
        }
        // colocar <br> no final de cada operação ou no começo, e tirar a concatenação da mensagem de saída, passando-o para o começo da string nas operações 
        </script>
</body>
</html>
